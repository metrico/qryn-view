var jt=Object.defineProperty;var zt=(n,e,t)=>e in n?jt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var q=(n,e,t)=>zt(n,typeof e!="symbol"?e+"":e,t);import{e as l,j as w,D,h as W,i as te,g as ve,k as Lt,n as Mt,d as pt,F as ie,Q as $t,o as Pt,f as tt}from"./index-DijCRrKI.js";import{r as j}from"./react-DUjjZIqU.js";import{o as $e,n as mt,s as Vt,u as he,L as Ft,v as Ut,w as Jt,x as Bt,q as qt,R as Wt}from"./vendor-DUvZ2W2Y.js";import{D as Ht,L as Ge,I as Qe,s as ot,A as Yt,S as Gt,a as fe,F as Y,b as Qt,c as ct,T as Xt,d as gt,e as Kt,B as en,P as tn}from"./AddOutlined-C-y0aJUX.js";import{D as nn,a as sn,b as rn,c as an,d as on,T as cn,e as vt,s as dn}from"./DeleteOutlineOutlined-BzFRR2MH.js";import{j as yt}from"./reactDnd-B4hL610_.js";import{S as Fe}from"./Switch-xLex839_.js";import{d as _t}from"./reactSelect-D6yOo6aA.js";import{u as ln}from"./useWebVitals-C_wSbyon.js";import"./memoize-2MUMzeRc.js";const re=n=>{const{value:e,onClick:t,primary:s,title:r,disabled:a}=n;return l(Ht,{disabled:a,title:r,onClick:t,primary:s,children:e})},un=n=>te("display:flex;min-width:100px;flex:",n?1:0,";-ms-flex:",n?1:0,";",""),xt=({value:n,locked:e,onChange:t,opts:s,label:r,labelWidth:a,name:i,fullWidth:o,width:d})=>{const[c,h]=j.useState(""),C=j.useRef(null),N=j.useMemo(()=>s&&s[0]&&typeof s[0]=="string"?s==null?void 0:s.map(_=>({value:_,name:_})):s,[s]);return j.useEffect(()=>{var O,m;const _=(O=N==null?void 0:N.find(v=>v.name===n))==null?void 0:O.value;_&&((m=C==null?void 0:C.current)==null?void 0:m.value)!==_&&(h(_),C.current.value=_)},[n]),w(Qe,{width:d,children:[(r==null?void 0:r.length)>0&&l(Ge,{width:a||null,children:r}),l("select",{ref:C,className:W(un(o)),disabled:e,defaultValue:D.sanitize(c),onChange:_=>t(_,i),children:N==null?void 0:N.map((_,O)=>l("option",{value:D.sanitize(_.value),children:_.name},O))})]})},kt=n=>{const{value:e,onChange:t,locked:s,label:r}=n;return w(Qe,{children:[l(Ge,{children:r}),l(Fe,{disabled:s,size:"small",checked:e,onChange:t})]})};function hn({saveDataSource:n,changed:e}){const[t,s]=j.useState(!1),r=ve(),a=()=>{s(!0)},i=()=>{s(!1)},o=()=>{n(),i()},d=()=>{i()};return w(j.Fragment,{children:[l(re,{primary:e,value:D.sanitize("Save"),onClick:a}),w(nn,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[l(sn,{id:"alert-dialog-title",style:{background:r.shadow,color:r.contrast},children:"Save DataSource Settings"}),l(rn,{style:{background:r.shadow},children:l(an,{style:{color:r.contrast},id:"alert-dialog-description",children:"Are you sure you want to store and modify current DataSource settings?"})}),w(on,{style:{background:r.shadow},children:[l(re,{onClick:d,value:D.sanitize("Cancel"),primary:!1}),l(re,{value:D.sanitize("Save"),onClick:o,primary:e,autoFocus:!0})]})]})]})}const fn={settings:Lt.getState().dataSources},pn=Mt(n=>({...fn,setSettings:e=>n(()=>({settings:e}))})),bt=()=>{const n=$e(),{settings:e,setSettings:t}=pn();return{settings:e,setSettings:t,storeSettings:a=>{t(a)},storeDataSources:()=>{localStorage.setItem("dataSources",JSON.stringify(e)),n(ot(e))}}},mn=n=>e=>{e({type:"SET_IS_DATASOURCE_SAVED",isDsSaved:n})},gn=pt(yt.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),wt=te({name:"vtwnvy",styles:"height:12px!important;width:12px!important;color:white;margin:0px 4px"}),vn=n=>te("display:flex;align-items:center;background:",n.primary,";color:white;font-size:11px;padding:4px;border-radius:3px;margin-right:10px;cursor:pointer;span{margin-right:4px;font-weight:bold;}",""),yn=te({name:"1t9g6tg",styles:"display:flex;align-items:center;background:#b62c14;color:white;font-size:12px;padding:4px;border-radius:3px;margin-right:10px;cursor:pointer;span{margin-right:4px;font-weight:bold;}"}),_n=({setIsSaved:n,theme:e})=>w("div",{className:W(vn(e)),onClick:()=>n(!1),children:[l(gn,{className:W(wt)})," "]}),xn=pt(yt.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),kn={mixed_content:"Insecure Mixed Content. Mixing HTTP and HTTPS is insecure and is not supported.",complete_url:"Please complete API URL"},bn=n=>{const{error:e}=n;return w("div",{className:W(yn),children:[l(xn,{className:W(wt)})," ",l("span",{children:kn[e]})]})},wn={protocol:"mixed_content",url:"complete_url"},Sn=n=>Object.keys(n).map(e=>e).filter(e=>!!n[e]),Cn=n=>{var t;const{fieldErrors:e}=n;return e?l(ie,{children:(t=Sn(e))==null?void 0:t.map((s,r)=>l(bn,{error:wn[s]},r))}):l(ie,{})};function Xe(n){const{onClickAdd:e,isAdd:t,title:s,isEditing:r,fieldErrors:a}=n,i=ve(),o=$e(),[d,c]=j.useState(!1);return j.useEffect(()=>(r&&(setTimeout(()=>{c(!0),o(mn(!0))},800),c(!1)),c(!1),()=>{c(!1)}),[r]),w(Gt,{children:[w("div",{style:{display:"flex",alignItems:"center",gap:".5em"},children:[s,t&&l(ie,{children:l(cn,{title:`Add ${s}`,children:l(Yt,{fontSize:"small",style:{cursor:"pointer",display:"flex"},onClick:e})})})]}),w("div",{className:"edit-buttons",children:[l(Cn,{fieldErrors:a}),d&&l(_n,{theme:i,setIsSaved:c})]})]})}const Tn=n=>{const[e,t]=j.useState(!1),{headers:s,id:r,onDsChange:a,dataSources:i}=n,[o,d]=j.useState((n==null?void 0:n.cors)||!1),c=_=>{const O=_.target.checked,m=i.map(v=>(v.id===r&&(v.cors=O),v));d(()=>O),a(m)},h=(_,O,m)=>{t(()=>!0);const v=_.target.value,A=(i.find(z=>z.id===r).headers||[]).map(z=>(z.id===O&&(z[m]=v),z)),I=i.map(z=>(z.id===r&&(z.headers=[...A]),z));a(I),setTimeout(()=>{t(()=>!1)},800)},C=_=>{_.preventDefault();const O=i==null?void 0:i.find(g=>g.id===r),m=O.headers,v=JSON.parse(JSON.stringify([...i]));if(s.length>0){const g={...m[m.length-1],id:mt()},k={...O,headers:[...O.headers,g]},A=v==null?void 0:v.map(I=>I.id===r?{...k}:I);a(A)}},N=(_,O)=>{const m=i==null?void 0:i.find(I=>I.id===r),g=[...s].filter(I=>I.id!==O),k={...m,headers:[...g]},A=i==null?void 0:i.map(I=>I.id===r?{...k}:I);a(A)};return l("div",{className:"",children:s&&w(ie,{children:[l(Xe,{title:"Custom HTTP Headers",isEdit:!1,isAdd:!0,isEditing:e,onClickAdd:C}),w(fe,{children:[l(Ge,{children:"Use CORS"})," ",l(Fe,{size:"small",checked:o,onChange:c})]}),s==null?void 0:s.map((_,O)=>l(fe,{children:w(Qe,{children:[l(Y,{label:"header",value:D.sanitize(_.header),onChange:m=>h(m,_.id,"header")}),l(Y,{label:"value",value:D.sanitize(_.value),onChange:m=>h(m,_.id,"value")}),l(vt,{onClick:m=>N(m,_.id),style:{cursor:"pointer",marginLeft:"10px"},fontSize:"small"})]})},O))]})})};function Nn(n){const e=Vt(),t=ve(),{title:s}=n,r=he(i=>i.isDsSaved),a=()=>{e(-1)};return w("div",{className:"ds-header",children:[l("div",{style:{display:"flex",alignItems:"center"},children:w("div",{style:{display:"flex",flexDirection:"column"},children:[w("div",{style:{display:"flex"},children:[l($t,{}),l("h1",{children:s})]}),w("p",{style:{color:t.contrast,fontSize:"10px",marginTop:"5px",marginLeft:"10px",opacity:".5"},children:["v","3.5.3"]})]})}),l(re,{value:D.sanitize("Back"),onClick:a,editing:!0,primary:r})]})}const On=n=>{const{id:e,name:t,regex:s,urlLabel:r,internalLink:a,linkType:i,locked:o,dataSourceId:d,fieldEditing:c,dataSources:h,dsChange:C}=n,N=j.useMemo(()=>h==null?void 0:h.map(g=>({name:g.name,value:g.id})),[h]),_=(g,k)=>{c();const A=JSON.parse(JSON.stringify(h)),z=A.find(M=>M.id===d).linkedFields,Z=z==null?void 0:z.map(M=>M.id===e?{...M,[g]:k}:M);return A==null?void 0:A.map(M=>M.id===d?{...M,linkedFields:Z}:M)},O=()=>{c();const g=JSON.parse(JSON.stringify(h)),A=(g==null?void 0:g.find(Z=>Z.id===d)).linkedFields,I=A==null?void 0:A.filter(Z=>Z.id!==e),z=g==null?void 0:g.map(Z=>Z.id===d?{...Z,linkedFields:[...I]}:Z);C(z)},m=(g,k)=>{c();const A=g.target.value,I=_(k,A);C(I)},v=(g,k)=>{c();const A=!!g.target.checked,I=_(k,A);C(I)};return w(Qt,{children:[w(fe,{children:[l(Y,{value:D.sanitize(t),label:"Name",onChange:g=>m(g,"name")}),l(Y,{value:D.sanitize(s),label:"Regex",onChange:g=>m(g,"regex")}),l(Y,{value:D.sanitize(r),label:"URL Label",onChange:g=>m(g,"urlLabel")}),l(vt,{onClick:O,fontSize:"small",style:{marginLeft:"10px",cursor:"pointer",display:o?"none":"inline-block"}})]}),w(fe,{className:"internal",children:[l(kt,{value:a,label:"Internal Link",onChange:g=>v(g,"internalLink")}),l(xt,{label:"",value:D.sanitize(i),opts:N,selectType:"linkedField",onChange:g=>m(g,"linkID")})]})]})};class An{constructor(){q(this,"id");q(this,"dataSource");q(this,"ds_id");q(this,"name");q(this,"regex");q(this,"query");q(this,"urlLabel");q(this,"url");q(this,"internalLink");q(this,"linkType");this.id=mt(),this.dataSource="Logs",this.ds_id="logs",this.name="traceID",this.regex='^.*?"traceID" ="(w+)".*$/',this.query="${__value.raw}",this.urlLabel="",this.url="",this.internalLink=!0,this.linkType="Traces"}create(){const{id:e,dataSource:t,ds_id:s,name:r,regex:a,query:i,urlLabel:o,url:d,internalLink:c,linkType:h}=this;return{id:e,dataSource:t,ds_id:s,name:r,regex:a,query:i,urlLabel:o,url:d,internalLink:c,linkType:h}}}const En=n=>{const{linkedFields:e,name:t,id:s,dataSources:r,onDsChange:a}=n,[i,o]=j.useState(!1),d=()=>{const h=new An;h.dataSource=t,h.create();const N=[...JSON.parse(JSON.stringify(e)),{...h}],_=JSON.parse(JSON.stringify(r)),O=_==null?void 0:_.map(m=>m.id===s?{...m,linkedFields:N}:m);a(O)},c=()=>{o(()=>!0),setTimeout(()=>{o(()=>!1)},800)};return(e==null?void 0:e.length)>0?w(ie,{children:[l(Xe,{title:"Linked Fields",isEdit:!0,isAdd:!0,onClickAdd:d,isEditing:i}),l(ct,{children:e&&(e==null?void 0:e.map((h,C)=>l(On,{...h,dataSourceId:s,locked:!1,fieldEditing:c,dsChange:a,dataSources:r},C)))})]}):null};function Zn(n){const{value:e,label:t,onChange:s,placeholder:r}=n;return w(Qe,{children:[l(Ge,{children:t}),l(Xt,{className:"ds-input",onChange:s,placeholder:r,value:D.sanitize(e)})]})}function In(n){const{auth:e,id:t,dataSources:s,onDsChange:r}=n,[a,i]=j.useState([]),[o,d]=j.useState(!1),c=j.useMemo(()=>{var m;if(e)return(m=Object.entries(e))==null?void 0:m.map(([v,g])=>({name:v,...g})).filter(v=>v.name!=="fields")},[e]),h=j.useMemo(()=>{var m;if(e)return(m=Object.entries(e))==null?void 0:m.map(([v,g])=>({name:v,...g})).find(v=>v.name==="fields")},[e]),C=(m,v)=>{const g=JSON.parse(JSON.stringify(e));g[v].value=m;const A=JSON.parse(JSON.stringify(s)).map(I=>I.id===t?{...I,auth:{...g}}:I);return r(A),A};j.useEffect(()=>{var v,g;const m=(g=(v=c==null?void 0:c.filter(k=>k.form_type==="switch"&&!!(k!=null&&k.value)))==null?void 0:v.filter(k=>!!k.withFields))==null?void 0:g.map(k=>k.name);i(m)},[c,i]);const N=(m,v)=>{d(()=>!0);const g=m.target.value;C(g,v),setTimeout(()=>{d(()=>!1)},800)},_=(m,v)=>{d(()=>!0);const g=m.target.checked;C(g,v),setTimeout(()=>{d(()=>!1)},800)},O=(m,v,g)=>{var M;d(()=>!0);const k=m.target.value,A=JSON.parse(JSON.stringify(e)),I={...A,fields:{...A.fields,[g]:(M=A==null?void 0:A.fields[g])==null?void 0:M.map(R=>R.name===v?(R.value=k,{...R}):R)}},z=JSON.parse(JSON.stringify([...s])),Z=z==null?void 0:z.map(R=>(R.id===t&&(R.auth=I),R));r(Z),setTimeout(()=>{d(()=>!1)},600)};return w(ie,{children:[l(Xe,{title:"HTTP Auth Fields",isEditing:o,isEdit:!1,isAdd:!1}),w(ct,{children:[c&&c.map((m,v)=>m.form_type==="select"?l(xt,{value:D.sanitize(m.value),name:D.sanitize(m.name),onChange:g=>N(g,m.name),locked:!1,opts:m.options,label:m.label},v):m.form_type==="switch"?l(kt,{label:m.label,value:m.value,onChange:g=>_(g,m.name)},v):null),l(fe,{children:(a==null?void 0:a.length)>0&&h&&(a==null?void 0:a.map((m,v)=>{var g;return l(fe,{children:h[m]&&((g=h[m])==null?void 0:g.map((k,A)=>(k==null?void 0:k.form_type)==="input"||(k==null?void 0:k.form_type)==="password"?l(Y,{onChange:I=>O(I,k.name,m),type:k.form_type,value:D.sanitize(k.value),label:k.label,placeholder:k.placeholder},A):(k==null?void 0:k.form_type)==="textarea"?l(Zn,{onChange:I=>O(I,k.name,m),value:D.sanitize(k.value),label:k.label,placeholder:k.placeholder},A):null))},v)}))})]})]})}const Rn=Pt("div",{target:"emiacor0"})("position:absolute;left:0;top:0;background:",({theme:n})=>n.background,";display:flex;flex-direction:culumn;justify-content:center;color:",({theme:n})=>n.contrast,";flex:1;height:100%;width:100%;.body-cont{max-width:1440px;padding:10px;margin:10px;border-radius:3px;flex:1;background:",({theme:n})=>n.shadow,";overflow-y:auto;overflow-x:hidden;}.ds-header{padding:10px;padding-bottom:20px;font-size:24px;flex:1;display:flex;width:100%;justify-content:space-between;align-items:center;padding-left:0px;.logo{margin-right:10px;}}.ds-cont{margin-bottom:10px;border:1px solid ",({theme:n})=>n.accentNeutral,";border-radius:3px;overflow-y:auto;}.ds-item{padding:10px;border-radius:3px 3px 0px 0px;padding-bottom:14px;display:flex;.logo{padding:10px;padding-right:20px;padding-left:0px;}.ds-text{display:flex;flex-direction:column;flex:1;}.ds-type{font-size:18px;padding:10px;padding-left:0px;color:",({theme:n})=>n.contrast,";}small{font-size:12px;}.setting-icon{justify-self:flex-end;cursor:pointer;}.ds-settings{background:",({theme:n})=>n.shadow,";}}");function Dn(){const n=he(({dataSources:e})=>e);return(n==null?void 0:n.length)>0?l("div",{style:{margin:"10px"},children:n.map((e,t)=>{const{icon:s,id:r,name:a,type:i,url:o}=e;return l("div",{className:"ds-cont",children:l(Ft,{to:r,children:w("div",{className:"ds-item",children:[l(gt,{icon:s}),w("div",{className:"ds-text",children:[l("div",{className:"ds-type",children:a}),w("span",{children:[w("small",{children:[i," | "," "]}),l("small",{style:{userSelect:"all"},children:o})]})]})]})})},t)})}):l("div",{children:l("h1",{children:"No Data Sources Found."})})}const jn=n=>{const[e,t]=j.useState(n),{settings:s,storeSettings:r}=bt(),[a,i]=j.useState({url:!1,protocol:!1}),o=(N,_)=>{let O=_;const m=JSON.parse(JSON.stringify(s));return m.forEach(v=>{v.id===e.id&&(v[N]=O)}),m},[d,c]=j.useState(!1),h=N=>{try{const _=window.location.protocol,O=new URL(N).protocol;return{value:_===O,error:""}}catch{return{value:!1,error:"url"}}},C=(N,_)=>{c(()=>!0);const O=N.target.value;if(_==="url"){const v=h(O);if((v==null?void 0:v.error)==="url"&&i(g=>({...g,url:!0})),!(v!=null&&v.value)&&(v==null?void 0:v.error)===""&&i(g=>({...g,protocol:!0})),(v==null?void 0:v.error)===""&&(v!=null&&v.value)){i(k=>({...k,protocol:!1,url:!1}));const g=o(_,O);r(g),setTimeout(()=>{c(()=>!1)},800)}}const m=o(_,O);r(m),setTimeout(()=>{c(()=>!1)},800)};return j.useEffect(()=>{t(N=>({...N,...s==null?void 0:s.find(_=>_.id===N.id)}))},[s]),w(Kt,{children:[l(Xe,{isEditing:d,isEdit:!0,isAdd:!1,title:"DataSource Settings",fieldErrors:a}),l(ct,{children:w(fe,{children:[l(Y,{value:D.sanitize(e.name),label:"Name",onChange:N=>C(N,"name")}),l(Y,{value:D.sanitize(e.url),label:"URL",error:a.url||a.protocol,onChange:N=>C(N,"url")})]})}),l(In,{id:e.id,auth:e.auth,dataSources:s,onDsChange:r}),l(Tn,{id:e.id,cors:e.cors,headers:e.headers,dataSources:s,onDsChange:r}),l(En,{id:e.id,name:e.name,onDsChange:r,dataSources:s,linkedFields:e.linkedFields})]})},zn=te({name:"9rq8lq",styles:"display:flex;align-items:center;justify-content:space-between;margin-right:20px"});function Ln(n,e,t){let s={},r=t&&t!==""&&e&&e!=="",a=r?`${btoa(e)}:${btoa(t)}`:"",i=JSON.parse(JSON.stringify(n));return r&&a&&(s.auth=a),s.url=i,JSON.stringify(s)}function Mn(n){const{id:e,url:t,type:s,auth:{basicAuth:r,fields:{basicAuth:[a,i]}}}=n;console.log(n);const o=ve(),[d,c]=Jt(["qryn-dev-cookie","qryn-settings"]),h=$e(),C=he(R=>R.dataSources),N=he(R=>R.isDsSaved),{storeDataSources:_,setSettings:O,storeSettings:m,settings:v}=bt(),g=()=>{_(),h(tt({type:"success",message:"Data Source Setting Saved SuccessFully"}))},k=()=>{O(C)},A=()=>{const R=JSON.parse(JSON.stringify(v)),$=JSON.parse(JSON.stringify(R)),F=$==null?void 0:$.map(P=>({...P,url:D.sanitize(t),auth:{...P.auth,basicAuth:{...P.auth.basicAuth,value:r.value},fields:{...P.auth.fields,basicAuth:[...P.auth.fields.basicAuth].map(J=>J.name==="user"?{...J,value:D.sanitize(a.value)}:J.name==="password"?{...J,value:D.sanitize(i.value)}:J)}}}));localStorage.setItem("dataSources",JSON.stringify(F)),h(ot(F)),h(tt({type:"success",message:"Set same URL and Basic Auth for All Data Sources"}))};function I(){const R=new Date;new Date().setDate(R.getDate()+1);try{c("qryn-settings",Ln(t,a.value,i.value),{path:""})}catch(F){console.log(F)}}function z(){const{headers:R,id:$,name:F,linkedFields:P,url:J}=n,Dt=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify({id:$,name:F,type:s,url:J,headers:R,linkedFields:P}))}`,et=document.createElement("a");et.href=Dt,et.download=`${F}_${$}.json`,et.click()}const Z=R=>{let $=new FileReader;$.onload=M,$.readAsText(R.target.files[0])};function M(R){let $=JSON.parse(R.target.result);const F=JSON.parse(JSON.stringify(v));let P=[];for(let J of F){let Ve={};J.type===$.type&&J.name===$.name?(console.log(J),Ve={...J,...$,id:e}):Ve=J,P.push(Ve)}m(P),h(tt({message:"Datasources Setting Imported Successfully",type:"success"}))}return w("div",{className:"ds-cont",children:[w("div",{className:W(zn),children:[l($n,{...n}),w("div",{style:{display:"flex",alignItems:"center",gap:".5em"},children:[l(re,{title:"Download Datasource settings as JSON",value:D.sanitize("Download JSON"),onClick:z,primary:!1}),w(ie,{children:[l("input",{style:{display:"none"},accept:"application/json",onChange:Z,id:`preview-${e}`,type:"file"}),l("label",{htmlFor:`preview-${e}`,children:l(en,{style:{background:o.neutral,color:o.contrast,fontFamily:"sans-serif",textTransform:"none",padding:"3px 12px",height:"26px"},component:"span",size:"small",children:"Import JSON"})})]}),l(re,{title:"Set Cookie with name: qryn-settings",value:D.sanitize("Save Cookie"),onClick:I,primary:!1}),l(re,{title:"Use same URL and Basic Auth for all Data Sources",value:D.sanitize("Use For All"),onClick:A,primary:!1})]}),w("div",{style:{display:"flex",alignItems:"center",gap:"1em"},children:[l(hn,{saveDataSource:g,changed:N}),l(re,{value:D.sanitize("Cancel"),onClick:k,editing:!0,primary:!1})]})]}),l("div",{className:"ds-settings",children:l(jn,{...n})})]})}const $n=n=>{const{icon:e,name:t,type:s,url:r}=n;return w("div",{className:"ds-item",children:[l(gt,{icon:e}),w("div",{className:"ds-text",children:[l("div",{className:"ds-type",children:t}),w("small",{children:[D.sanitize(s)," | ",D.sanitize(r)]})]})]})};function Pn(){let{id:n}=Ut();const e=ve(),t=he(r=>r.dataSources),s=j.useMemo(()=>!t||t.length===0?{}:t.find(r=>r.id===n)||{},[n,t]);return l(_t,{theme:e,children:l(Rn,{children:w("div",{className:"body-cont",children:[l(Nn,{title:"DataSource Settings",datasource:s}),l("div",{className:"datasource-body",children:l(Mn,{...s})})]})})})}var E;(function(n){n.assertEqual=r=>r;function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const a={};for(const i of r)a[i]=i;return a},n.getValidEnumValues=r=>{const a=n.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),i={};for(const o of a)i[o]=r[o];return n.objectValues(i)},n.objectValues=r=>n.objectKeys(r).map(function(a){return r[a]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const a=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&a.push(i);return a},n.find=(r,a)=>{for(const i of r)if(a(i))return i},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,a=" | "){return r.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}n.joinValues=s,n.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(E||(E={}));var st;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(st||(st={}));const p=E.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),se=n=>{switch(typeof n){case"undefined":return p.undefined;case"string":return p.string;case"number":return isNaN(n)?p.nan:p.number;case"boolean":return p.boolean;case"function":return p.function;case"bigint":return p.bigint;case"symbol":return p.symbol;case"object":return Array.isArray(n)?p.array:n===null?p.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?p.promise:typeof Map<"u"&&n instanceof Map?p.map:typeof Set<"u"&&n instanceof Set?p.set:typeof Date<"u"&&n instanceof Date?p.date:p.object;default:return p.unknown}},u=E.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Vn=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class B extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},s={_errors:[]},r=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(r);else if(i.code==="invalid_return_type")r(i.returnTypeError);else if(i.code==="invalid_arguments")r(i.argumentsError);else if(i.path.length===0)s._errors.push(t(i));else{let o=s,d=0;for(;d<i.path.length;){const c=i.path[d];d===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],d++}}};return r(this),s}static assert(e){if(!(e instanceof B))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,E.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}B.create=n=>new B(n);const ke=(n,e)=>{let t;switch(n.code){case u.invalid_type:n.received===p.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case u.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,E.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:t=`Unrecognized key(s) in object: ${E.joinValues(n.keys,", ")}`;break;case u.invalid_union:t="Invalid input";break;case u.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${E.joinValues(n.options)}`;break;case u.invalid_enum_value:t=`Invalid enum value. Expected ${E.joinValues(n.options)}, received '${n.received}'`;break;case u.invalid_arguments:t="Invalid function arguments";break;case u.invalid_return_type:t="Invalid function return type";break;case u.invalid_date:t="Invalid date";break;case u.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:E.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case u.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case u.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case u.custom:t="Invalid input";break;case u.invalid_intersection_types:t="Intersection results could not be merged";break;case u.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case u.not_finite:t="Number must be finite";break;default:t=e.defaultError,E.assertNever(n)}return{message:t}};let St=ke;function Fn(n){St=n}function Ue(){return St}const Je=n=>{const{data:e,path:t,errorMaps:s,issueData:r}=n,a=[...t,...r.path||[]],i={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let o="";const d=s.filter(c=>!!c).slice().reverse();for(const c of d)o=c(i,{data:e,defaultError:o}).message;return{...r,path:a,message:o}},Un=[];function f(n,e){const t=Ue(),s=Je({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ke?void 0:ke].filter(r=>!!r)});n.common.issues.push(s)}class V{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const r of t){if(r.status==="aborted")return b;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const r of t){const a=await r.key,i=await r.value;s.push({key:a,value:i})}return V.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const r of t){const{key:a,value:i}=r;if(a.status==="aborted"||i.status==="aborted")return b;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||r.alwaysSet)&&(s[a.value]=i.value)}return{status:e.value,value:s}}}const b=Object.freeze({status:"aborted"}),_e=n=>({status:"dirty",value:n}),U=n=>({status:"valid",value:n}),rt=n=>n.status==="aborted",at=n=>n.status==="dirty",pe=n=>n.status==="valid",Te=n=>typeof Promise<"u"&&n instanceof Promise;function Be(n,e,t,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function Ct(n,e,t,s,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var y;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(y||(y={}));var Se,Ce;class K{constructor(e,t,s,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lt=(n,e)=>{if(pe(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new B(n.common.issues);return this._error=t,this._error}}};function S(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:r}=n;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(i,o)=>{var d,c;const{message:h}=n;return i.code==="invalid_enum_value"?{message:h??o.defaultError}:typeof o.data>"u"?{message:(d=h??s)!==null&&d!==void 0?d:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(c=h??t)!==null&&c!==void 0?c:o.defaultError}},description:r}}class T{get description(){return this._def.description}_getType(e){return se(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:se(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new V,ctx:{common:e.parent.common,data:e.data,parsedType:se(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Te(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const r={common:{issues:[],async:(s=t==null?void 0:t.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)},a=this._parseSync({data:e,path:r.path,parent:r});return lt(r,a)}"~validate"(e){var t,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return pe(a)?{value:a.value}:{issues:r.common.issues}}catch(a){!((s=(t=a==null?void 0:a.message)===null||t===void 0?void 0:t.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>pe(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)},r=this._parse({data:e,path:s.path,parent:s}),a=await(Te(r)?r:Promise.resolve(r));return lt(s,a)}refine(e,t){const s=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,a)=>{const i=e(r),o=()=>a.addIssue({code:u.custom,...s(r)});return typeof Promise<"u"&&i instanceof Promise?i.then(d=>d?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof t=="function"?t(s,r):t),!1))}_refinement(e){return new Q({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return X.create(this,this._def)}nullable(){return le.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return G.create(this)}promise(){return we.create(this,this._def)}or(e){return Ee.create([this,e],this._def)}and(e){return Ze.create(this,e,this._def)}transform(e){return new Q({...S(this._def),schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ze({...S(this._def),innerType:this,defaultValue:t,typeName:x.ZodDefault})}brand(){return new dt({typeName:x.ZodBranded,type:this,...S(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Le({...S(this._def),innerType:this,catchValue:t,typeName:x.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Pe.create(this,e)}readonly(){return Me.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Jn=/^c[^\s-]{8,}$/i,Bn=/^[0-9a-z]+$/,qn=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Wn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Hn=/^[a-z0-9_-]{21}$/i,Yn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Gn=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Xn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let nt;const Kn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,es=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ts=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ns=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ss=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rs=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Tt="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",as=new RegExp(`^${Tt}$`);function Nt(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function is(n){return new RegExp(`^${Nt(n)}$`)}function Ot(n){let e=`${Tt}T${Nt(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function os(n,e){return!!((e==="v4"||!e)&&Kn.test(n)||(e==="v6"||!e)&&ts.test(n))}function cs(n,e){if(!Yn.test(n))return!1;try{const[t]=n.split("."),s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function ds(n,e){return!!((e==="v4"||!e)&&es.test(n)||(e==="v6"||!e)&&ns.test(n))}class H extends T{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.string){const a=this._getOrReturnCtx(e);return f(a,{code:u.invalid_type,expected:p.string,received:a.parsedType}),b}const s=new V;let r;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(r=this._getOrReturnCtx(e,r),i?f(r,{code:u.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&f(r,{code:u.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")Qn.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"email",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")nt||(nt=new RegExp(Xn,"u")),nt.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"emoji",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")Wn.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"uuid",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")Hn.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"nanoid",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Jn.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"cuid",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")Bn.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"cuid2",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")qn.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"ulid",code:u.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),f(r,{validation:"url",code:u.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"regex",code:u.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),f(r,{code:u.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),f(r,{code:u.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),f(r,{code:u.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Ot(a).test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{code:u.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?as.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{code:u.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?is(a).test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{code:u.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?Gn.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"duration",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?os(e.data,a.version)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"ip",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?cs(e.data,a.alg)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"jwt",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?ds(e.data,a.version)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"cidr",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?ss.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"base64",code:u.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?rs.test(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{validation:"base64url",code:u.invalid_string,message:a.message}),s.dirty()):E.assertNever(a);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(r=>e.test(r),{validation:t,code:u.invalid_string,...y.errToObj(s)})}_addCheck(e){return new H({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...y.errToObj(e)})}datetime(e){var t,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...y.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...y.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...y.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...y.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...y.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...y.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...y.errToObj(t)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new H({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new H({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new H({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}H.create=n=>{var e;return new H({checks:[],typeName:x.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...S(n)})};function ls(n,e){const t=(n.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=t>s?t:s,a=parseInt(n.toFixed(r).replace(".","")),i=parseInt(e.toFixed(r).replace(".",""));return a%i/Math.pow(10,r)}class oe extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.number){const a=this._getOrReturnCtx(e);return f(a,{code:u.invalid_type,expected:p.number,received:a.parsedType}),b}let s;const r=new V;for(const a of this._def.checks)a.kind==="int"?E.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:u.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?ls(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:u.not_finite,message:a.message}),r.dirty()):E.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(e,t,s,r){return new oe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:y.toString(r)}]})}_addCheck(e){return new oe({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&E.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}oe.create=n=>new oe({checks:[],typeName:x.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...S(n)});class ce extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==p.bigint)return this._getInvalidInput(e);let s;const r=new V;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),f(s,{code:u.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):E.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return f(t,{code:u.invalid_type,expected:p.bigint,received:t.parsedType}),b}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(e,t,s,r){return new ce({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:y.toString(r)}]})}_addCheck(e){return new ce({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ce.create=n=>{var e;return new ce({checks:[],typeName:x.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...S(n)})};class Ne extends T{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==p.boolean){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:p.boolean,received:s.parsedType}),b}return U(e.data)}}Ne.create=n=>new Ne({typeName:x.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...S(n)});class me extends T{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.date){const a=this._getOrReturnCtx(e);return f(a,{code:u.invalid_type,expected:p.date,received:a.parsedType}),b}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return f(a,{code:u.invalid_date}),b}const s=new V;let r;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):E.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new me({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}me.create=n=>new me({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:x.ZodDate,...S(n)});class qe extends T{_parse(e){if(this._getType(e)!==p.symbol){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:p.symbol,received:s.parsedType}),b}return U(e.data)}}qe.create=n=>new qe({typeName:x.ZodSymbol,...S(n)});class Oe extends T{_parse(e){if(this._getType(e)!==p.undefined){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:p.undefined,received:s.parsedType}),b}return U(e.data)}}Oe.create=n=>new Oe({typeName:x.ZodUndefined,...S(n)});class Ae extends T{_parse(e){if(this._getType(e)!==p.null){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:p.null,received:s.parsedType}),b}return U(e.data)}}Ae.create=n=>new Ae({typeName:x.ZodNull,...S(n)});class be extends T{constructor(){super(...arguments),this._any=!0}_parse(e){return U(e.data)}}be.create=n=>new be({typeName:x.ZodAny,...S(n)});class ue extends T{constructor(){super(...arguments),this._unknown=!0}_parse(e){return U(e.data)}}ue.create=n=>new ue({typeName:x.ZodUnknown,...S(n)});class ae extends T{_parse(e){const t=this._getOrReturnCtx(e);return f(t,{code:u.invalid_type,expected:p.never,received:t.parsedType}),b}}ae.create=n=>new ae({typeName:x.ZodNever,...S(n)});class We extends T{_parse(e){if(this._getType(e)!==p.undefined){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:p.void,received:s.parsedType}),b}return U(e.data)}}We.create=n=>new We({typeName:x.ZodVoid,...S(n)});class G extends T{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),r=this._def;if(t.parsedType!==p.array)return f(t,{code:u.invalid_type,expected:p.array,received:t.parsedType}),b;if(r.exactLength!==null){const i=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(i||o)&&(f(t,{code:i?u.too_big:u.too_small,minimum:o?r.exactLength.value:void 0,maximum:i?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(f(t,{code:u.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(f(t,{code:u.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>r.type._parseAsync(new K(t,i,t.path,o)))).then(i=>V.mergeArray(s,i));const a=[...t.data].map((i,o)=>r.type._parseSync(new K(t,i,t.path,o)));return V.mergeArray(s,a)}get element(){return this._def.type}min(e,t){return new G({...this._def,minLength:{value:e,message:y.toString(t)}})}max(e,t){return new G({...this._def,maxLength:{value:e,message:y.toString(t)}})}length(e,t){return new G({...this._def,exactLength:{value:e,message:y.toString(t)}})}nonempty(e){return this.min(1,e)}}G.create=(n,e)=>new G({type:n,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...S(e)});function ye(n){if(n instanceof L){const e={};for(const t in n.shape){const s=n.shape[t];e[t]=X.create(ye(s))}return new L({...n._def,shape:()=>e})}else return n instanceof G?new G({...n._def,type:ye(n.element)}):n instanceof X?X.create(ye(n.unwrap())):n instanceof le?le.create(ye(n.unwrap())):n instanceof ee?ee.create(n.items.map(e=>ye(e))):n}class L extends T{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=E.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==p.object){const c=this._getOrReturnCtx(e);return f(c,{code:u.invalid_type,expected:p.object,received:c.parsedType}),b}const{status:s,ctx:r}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof ae&&this._def.unknownKeys==="strip"))for(const c in r.data)i.includes(c)||o.push(c);const d=[];for(const c of i){const h=a[c],C=r.data[c];d.push({key:{status:"valid",value:c},value:h._parse(new K(r,C,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof ae){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of o)d.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(c==="strict")o.length>0&&(f(r,{code:u.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of o){const C=r.data[h];d.push({key:{status:"valid",value:h},value:c._parse(new K(r,C,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of d){const C=await h.key,N=await h.value;c.push({key:C,value:N,alwaysSet:h.alwaysSet})}return c}).then(c=>V.mergeObjectSync(s,c)):V.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new L({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var r,a,i,o;const d=(i=(a=(r=this._def).errorMap)===null||a===void 0?void 0:a.call(r,t,s).message)!==null&&i!==void 0?i:s.defaultError;return t.code==="unrecognized_keys"?{message:(o=y.errToObj(e).message)!==null&&o!==void 0?o:d}:{message:d}}}:{}})}strip(){return new L({...this._def,unknownKeys:"strip"})}passthrough(){return new L({...this._def,unknownKeys:"passthrough"})}extend(e){return new L({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new L({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:x.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new L({...this._def,catchall:e})}pick(e){const t={};return E.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new L({...this._def,shape:()=>t})}omit(e){const t={};return E.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new L({...this._def,shape:()=>t})}deepPartial(){return ye(this)}partial(e){const t={};return E.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];e&&!e[s]?t[s]=r:t[s]=r.optional()}),new L({...this._def,shape:()=>t})}required(e){const t={};return E.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof X;)a=a._def.innerType;t[s]=a}}),new L({...this._def,shape:()=>t})}keyof(){return At(E.objectKeys(this.shape))}}L.create=(n,e)=>new L({shape:()=>n,unknownKeys:"strip",catchall:ae.create(),typeName:x.ZodObject,...S(e)});L.strictCreate=(n,e)=>new L({shape:()=>n,unknownKeys:"strict",catchall:ae.create(),typeName:x.ZodObject,...S(e)});L.lazycreate=(n,e)=>new L({shape:n,unknownKeys:"strip",catchall:ae.create(),typeName:x.ZodObject,...S(e)});class Ee extends T{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function r(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new B(o.ctx.common.issues));return f(t,{code:u.invalid_union,unionErrors:i}),b}if(t.common.async)return Promise.all(s.map(async a=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(r);{let a;const i=[];for(const d of s){const c={...t,common:{...t.common,issues:[]},parent:null},h=d._parseSync({data:t.data,path:t.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(d=>new B(d));return f(t,{code:u.invalid_union,unionErrors:o}),b}}get options(){return this._def.options}}Ee.create=(n,e)=>new Ee({options:n,typeName:x.ZodUnion,...S(e)});const ne=n=>n instanceof Re?ne(n.schema):n instanceof Q?ne(n.innerType()):n instanceof De?[n.value]:n instanceof de?n.options:n instanceof je?E.objectValues(n.enum):n instanceof ze?ne(n._def.innerType):n instanceof Oe?[void 0]:n instanceof Ae?[null]:n instanceof X?[void 0,...ne(n.unwrap())]:n instanceof le?[null,...ne(n.unwrap())]:n instanceof dt||n instanceof Me?ne(n.unwrap()):n instanceof Le?ne(n._def.innerType):[];class Ke extends T{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.object)return f(t,{code:u.invalid_type,expected:p.object,received:t.parsedType}),b;const s=this.discriminator,r=t.data[s],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),b)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const r=new Map;for(const a of t){const i=ne(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,a)}}return new Ke({typeName:x.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...S(s)})}}function it(n,e){const t=se(n),s=se(e);if(n===e)return{valid:!0,data:n};if(t===p.object&&s===p.object){const r=E.objectKeys(e),a=E.objectKeys(n).filter(o=>r.indexOf(o)!==-1),i={...n,...e};for(const o of a){const d=it(n[o],e[o]);if(!d.valid)return{valid:!1};i[o]=d.data}return{valid:!0,data:i}}else if(t===p.array&&s===p.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let a=0;a<n.length;a++){const i=n[a],o=e[a],d=it(i,o);if(!d.valid)return{valid:!1};r.push(d.data)}return{valid:!0,data:r}}else return t===p.date&&s===p.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Ze extends T{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=(a,i)=>{if(rt(a)||rt(i))return b;const o=it(a.value,i.value);return o.valid?((at(a)||at(i))&&t.dirty(),{status:t.value,value:o.data}):(f(s,{code:u.invalid_intersection_types}),b)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,i])=>r(a,i)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ze.create=(n,e,t)=>new Ze({left:n,right:e,typeName:x.ZodIntersection,...S(t)});class ee extends T{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==p.array)return f(s,{code:u.invalid_type,expected:p.array,received:s.parsedType}),b;if(s.data.length<this._def.items.length)return f(s,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b;!this._def.rest&&s.data.length>this._def.items.length&&(f(s,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...s.data].map((i,o)=>{const d=this._def.items[o]||this._def.rest;return d?d._parse(new K(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(a).then(i=>V.mergeArray(t,i)):V.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new ee({...this._def,rest:e})}}ee.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ee({items:n,typeName:x.ZodTuple,rest:null,...S(e)})};class Ie extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==p.object)return f(s,{code:u.invalid_type,expected:p.object,received:s.parsedType}),b;const r=[],a=this._def.keyType,i=this._def.valueType;for(const o in s.data)r.push({key:a._parse(new K(s,o,s.path,o)),value:i._parse(new K(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?V.mergeObjectAsync(t,r):V.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof T?new Ie({keyType:e,valueType:t,typeName:x.ZodRecord,...S(s)}):new Ie({keyType:H.create(),valueType:e,typeName:x.ZodRecord,...S(t)})}}class He extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==p.map)return f(s,{code:u.invalid_type,expected:p.map,received:s.parsedType}),b;const r=this._def.keyType,a=this._def.valueType,i=[...s.data.entries()].map(([o,d],c)=>({key:r._parse(new K(s,o,s.path,[c,"key"])),value:a._parse(new K(s,d,s.path,[c,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const d of i){const c=await d.key,h=await d.value;if(c.status==="aborted"||h.status==="aborted")return b;(c.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(c.value,h.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const d of i){const c=d.key,h=d.value;if(c.status==="aborted"||h.status==="aborted")return b;(c.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(c.value,h.value)}return{status:t.value,value:o}}}}He.create=(n,e,t)=>new He({valueType:e,keyType:n,typeName:x.ZodMap,...S(t)});class ge extends T{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==p.set)return f(s,{code:u.invalid_type,expected:p.set,received:s.parsedType}),b;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(f(s,{code:u.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(f(s,{code:u.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function i(d){const c=new Set;for(const h of d){if(h.status==="aborted")return b;h.status==="dirty"&&t.dirty(),c.add(h.value)}return{status:t.value,value:c}}const o=[...s.data.values()].map((d,c)=>a._parse(new K(s,d,s.path,c)));return s.common.async?Promise.all(o).then(d=>i(d)):i(o)}min(e,t){return new ge({...this._def,minSize:{value:e,message:y.toString(t)}})}max(e,t){return new ge({...this._def,maxSize:{value:e,message:y.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ge.create=(n,e)=>new ge({valueType:n,minSize:null,maxSize:null,typeName:x.ZodSet,...S(e)});class xe extends T{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.function)return f(t,{code:u.invalid_type,expected:p.function,received:t.parsedType}),b;function s(o,d){return Je({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ue(),ke].filter(c=>!!c),issueData:{code:u.invalid_arguments,argumentsError:d}})}function r(o,d){return Je({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ue(),ke].filter(c=>!!c),issueData:{code:u.invalid_return_type,returnTypeError:d}})}const a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof we){const o=this;return U(async function(...d){const c=new B([]),h=await o._def.args.parseAsync(d,a).catch(_=>{throw c.addIssue(s(d,_)),c}),C=await Reflect.apply(i,this,h);return await o._def.returns._def.type.parseAsync(C,a).catch(_=>{throw c.addIssue(r(C,_)),c})})}else{const o=this;return U(function(...d){const c=o._def.args.safeParse(d,a);if(!c.success)throw new B([s(d,c.error)]);const h=Reflect.apply(i,this,c.data),C=o._def.returns.safeParse(h,a);if(!C.success)throw new B([r(h,C.error)]);return C.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xe({...this._def,args:ee.create(e).rest(ue.create())})}returns(e){return new xe({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new xe({args:e||ee.create([]).rest(ue.create()),returns:t||ue.create(),typeName:x.ZodFunction,...S(s)})}}class Re extends T{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Re.create=(n,e)=>new Re({getter:n,typeName:x.ZodLazy,...S(e)});class De extends T{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:u.invalid_literal,expected:this._def.value}),b}return{status:"valid",value:e.data}}get value(){return this._def.value}}De.create=(n,e)=>new De({value:n,typeName:x.ZodLiteral,...S(e)});function At(n,e){return new de({values:n,typeName:x.ZodEnum,...S(e)})}class de extends T{constructor(){super(...arguments),Se.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return f(t,{expected:E.joinValues(s),received:t.parsedType,code:u.invalid_type}),b}if(Be(this,Se)||Ct(this,Se,new Set(this._def.values)),!Be(this,Se).has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return f(t,{received:t.data,code:u.invalid_enum_value,options:s}),b}return U(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return de.create(e,{...this._def,...t})}exclude(e,t=this._def){return de.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}Se=new WeakMap;de.create=At;class je extends T{constructor(){super(...arguments),Ce.set(this,void 0)}_parse(e){const t=E.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==p.string&&s.parsedType!==p.number){const r=E.objectValues(t);return f(s,{expected:E.joinValues(r),received:s.parsedType,code:u.invalid_type}),b}if(Be(this,Ce)||Ct(this,Ce,new Set(E.getValidEnumValues(this._def.values))),!Be(this,Ce).has(e.data)){const r=E.objectValues(t);return f(s,{received:s.data,code:u.invalid_enum_value,options:r}),b}return U(e.data)}get enum(){return this._def.values}}Ce=new WeakMap;je.create=(n,e)=>new je({values:n,typeName:x.ZodNativeEnum,...S(e)});class we extends T{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.promise&&t.common.async===!1)return f(t,{code:u.invalid_type,expected:p.promise,received:t.parsedType}),b;const s=t.parsedType===p.promise?t.data:Promise.resolve(t.data);return U(s.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}we.create=(n,e)=>new we({type:n,typeName:x.ZodPromise,...S(e)});class Q extends T{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:i=>{f(s,i),i.fatal?t.abort():t.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="preprocess"){const i=r.transform(s.data,a);if(s.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return b;const d=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return d.status==="aborted"?b:d.status==="dirty"||t.value==="dirty"?_e(d.value):d});{if(t.value==="aborted")return b;const o=this._def.schema._parseSync({data:i,path:s.path,parent:s});return o.status==="aborted"?b:o.status==="dirty"||t.value==="dirty"?_e(o.value):o}}if(r.type==="refinement"){const i=o=>{const d=r.refinement(o,a);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?b:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?b:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!pe(i))return i;const o=r.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>pe(i)?Promise.resolve(r.transform(i.value,a)).then(o=>({status:t.value,value:o})):i);E.assertNever(r)}}Q.create=(n,e,t)=>new Q({schema:n,typeName:x.ZodEffects,effect:e,...S(t)});Q.createWithPreprocess=(n,e,t)=>new Q({schema:e,effect:{type:"preprocess",transform:n},typeName:x.ZodEffects,...S(t)});class X extends T{_parse(e){return this._getType(e)===p.undefined?U(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}X.create=(n,e)=>new X({innerType:n,typeName:x.ZodOptional,...S(e)});class le extends T{_parse(e){return this._getType(e)===p.null?U(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}le.create=(n,e)=>new le({innerType:n,typeName:x.ZodNullable,...S(e)});class ze extends T{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===p.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ze.create=(n,e)=>new ze({innerType:n,typeName:x.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...S(e)});class Le extends T{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Te(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new B(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new B(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Le.create=(n,e)=>new Le({innerType:n,typeName:x.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...S(e)});class Ye extends T{_parse(e){if(this._getType(e)!==p.nan){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:p.nan,received:s.parsedType}),b}return{status:"valid",value:e.data}}}Ye.create=n=>new Ye({typeName:x.ZodNaN,...S(n)});const us=Symbol("zod_brand");class dt extends T{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class Pe extends T{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?b:a.status==="dirty"?(t.dirty(),_e(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?b:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,t){return new Pe({in:e,out:t,typeName:x.ZodPipeline})}}class Me extends T{_parse(e){const t=this._def.innerType._parse(e),s=r=>(pe(r)&&(r.value=Object.freeze(r.value)),r);return Te(t)?t.then(r=>s(r)):s(t)}unwrap(){return this._def.innerType}}Me.create=(n,e)=>new Me({innerType:n,typeName:x.ZodReadonly,...S(e)});function ut(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function Et(n,e={},t){return n?be.create().superRefine((s,r)=>{var a,i;const o=n(s);if(o instanceof Promise)return o.then(d=>{var c,h;if(!d){const C=ut(e,s),N=(h=(c=C.fatal)!==null&&c!==void 0?c:t)!==null&&h!==void 0?h:!0;r.addIssue({code:"custom",...C,fatal:N})}});if(!o){const d=ut(e,s),c=(i=(a=d.fatal)!==null&&a!==void 0?a:t)!==null&&i!==void 0?i:!0;r.addIssue({code:"custom",...d,fatal:c})}}):be.create()}const hs={object:L.lazycreate};var x;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(x||(x={}));const fs=(n,e={message:`Input not instance of ${n.name}`})=>Et(t=>t instanceof n,e),Zt=H.create,It=oe.create,ps=Ye.create,ms=ce.create,Rt=Ne.create,gs=me.create,vs=qe.create,ys=Oe.create,_s=Ae.create,xs=be.create,ks=ue.create,bs=ae.create,ws=We.create,Ss=G.create,Cs=L.create,Ts=L.strictCreate,Ns=Ee.create,Os=Ke.create,As=Ze.create,Es=ee.create,Zs=Ie.create,Is=He.create,Rs=ge.create,Ds=xe.create,js=Re.create,zs=De.create,Ls=de.create,Ms=je.create,$s=we.create,ht=Q.create,Ps=X.create,Vs=le.create,Fs=Q.createWithPreprocess,Us=Pe.create,Js=()=>Zt().optional(),Bs=()=>It().optional(),qs=()=>Rt().optional(),Ws={string:n=>H.create({...n,coerce:!0}),number:n=>oe.create({...n,coerce:!0}),boolean:n=>Ne.create({...n,coerce:!0}),bigint:n=>ce.create({...n,coerce:!0}),date:n=>me.create({...n,coerce:!0})},Hs=b;var Ys=Object.freeze({__proto__:null,defaultErrorMap:ke,setErrorMap:Fn,getErrorMap:Ue,makeIssue:Je,EMPTY_PATH:Un,addIssueToContext:f,ParseStatus:V,INVALID:b,DIRTY:_e,OK:U,isAborted:rt,isDirty:at,isValid:pe,isAsync:Te,get util(){return E},get objectUtil(){return st},ZodParsedType:p,getParsedType:se,ZodType:T,datetimeRegex:Ot,ZodString:H,ZodNumber:oe,ZodBigInt:ce,ZodBoolean:Ne,ZodDate:me,ZodSymbol:qe,ZodUndefined:Oe,ZodNull:Ae,ZodAny:be,ZodUnknown:ue,ZodNever:ae,ZodVoid:We,ZodArray:G,ZodObject:L,ZodUnion:Ee,ZodDiscriminatedUnion:Ke,ZodIntersection:Ze,ZodTuple:ee,ZodRecord:Ie,ZodMap:He,ZodSet:ge,ZodFunction:xe,ZodLazy:Re,ZodLiteral:De,ZodEnum:de,ZodNativeEnum:je,ZodPromise:we,ZodEffects:Q,ZodTransformer:Q,ZodOptional:X,ZodNullable:le,ZodDefault:ze,ZodCatch:Le,ZodNaN:Ye,BRAND:us,ZodBranded:dt,ZodPipeline:Pe,ZodReadonly:Me,custom:Et,Schema:T,ZodSchema:T,late:hs,get ZodFirstPartyTypeKind(){return x},coerce:Ws,any:xs,array:Ss,bigint:ms,boolean:Rt,date:gs,discriminatedUnion:Os,effect:ht,enum:Ls,function:Ds,instanceof:fs,intersection:As,lazy:js,literal:zs,map:Is,nan:ps,nativeEnum:Ms,never:bs,null:_s,nullable:Vs,number:It,object:Cs,oboolean:qs,onumber:Bs,optional:Ps,ostring:Js,pipeline:Us,preprocess:Fs,promise:$s,record:Zs,set:Rs,strictObject:Ts,string:Zt,symbol:vs,transformer:ht,tuple:Es,undefined:ys,union:Ns,unknown:ks,void:ws,NEVER:Hs,ZodIssueCode:u,quotelessJson:Vn,ZodError:B});const Gs=n=>te("display:flex;flex-direction:column;flex:1;flex-wrap:wrap;width:400px;border:1px solid ",n.accentNeutral,";padding:5px;border-radius:3px;margin-left:10px;",""),Qs=te({name:"1reekiy",styles:"display:flex;padding:4px 12px;font-size:14px;border-radius:4px;white-space:nowrap;align-items:center;justify-content:space-between"}),Xs=te({name:"t10jb8",styles:"margin:5px"}),Ks=te({name:"1wnuhlc",styles:"margin-left:20px;display:flex;align-items:center;span{font-size:12px;}"}),er=te({name:"17moij0",styles:"align-items:center;width:100%;display:flex;margin-top:10px;justify-content:space-between;flex:1"}),tr=Ys.string().url(),ft=window.location.origin,nr=()=>{const[n,e]=j.useState(""),[t,s]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(!1),[d,c]=j.useState(!1),[h,C]=j.useState(!1),N=he(Z=>Z.dataSources),_=$e(),O="Save",m=ve(),v=(Z="")=>{const M=Z===""?n:Z,R=JSON.parse(JSON.stringify(N)),$=R==null?void 0:R.map(F=>({...F,url:M,auth:{...F.auth,basicAuth:{...F.auth.basicAuth,value:d},fields:{...F.auth.fields,basicAuth:[...F.auth.fields.basicAuth].map(P=>P.name==="user"?{...P,value:t}:P.name==="password"?{...P,value:r}:P)}}}));localStorage.setItem("dataSources",JSON.stringify($)),_(ot($))};j.useEffect(()=>{var Z,M,R;n===""&&(((Z=N[0])==null?void 0:Z.url)===""&&((M=N[1])==null?void 0:M.url)===""?(e(ft),v(ft)):e((R=N[0])==null?void 0:R.url),o(!0),C(!0))},[n]);const g=Z=>{var $;const M=(($=Z==null?void 0:Z.target)==null?void 0:$.value)||"",R=tr.safeParse(M);C(()=>R.success),e(()=>M)},k=Z=>{s(()=>Z.target.value)},A=Z=>{a(()=>Z.target.value)},I=Z=>{o(()=>Z.target.checked)},z=Z=>{c(()=>Z.target.checked)};return w("div",{className:W(Gs(m)),children:[w("div",{className:W(Qs),children:["Use one setting for all Data Sources",l(Fe,{checked:i,size:"small",onChange:I})]}),i&&w("div",{className:W(Xs),children:[l(Y,{value:D.sanitize(n),label:"url",onChange:g,placeholder:window.location.origin}),d&&w(ie,{children:[l(Y,{value:D.sanitize(t),label:"user",onChange:k,placeholder:"default"}),l(Y,{value:D.sanitize(r),label:"password",onChange:A,type:"password",placeholder:""})]}),w("div",{className:W(er),children:[w("div",{className:W(Ks),children:[l("span",{children:"Use Basic Auth"})," ",l(Fe,{checked:d,size:"small",onChange:z})," "]}),l(re,{value:D.sanitize(O),disabled:!h,onClick:v,editing:!1,primary:h})]})]})]})};function pr(){const n=Bt.useMediaQuery({query:"(prefers-color-scheme: dark)"}),e=$e(),t=ve(),s=he(r=>r.autoTheme);return ln({page:"DataSources"}),j.useEffect(()=>{if(s){const r=n?"dark":"light";e(dn(r)),localStorage.setItem("theme",JSON.stringify({theme:r,auto:s}))}},[n,s,e]),w(_t,{theme:t,children:[l(tn,{children:w("div",{className:"cont",children:[l(Dn,{}),l("div",{style:{display:"flex",flex:1},children:l("div",{style:{height:"40px"},children:l(nr,{})})})]})}),l(Wt,{children:l(qt,{path:":id",element:l(Pn,{})})})]})}export{pr as default};
