import{s as z,m as A,a as E,u as j,c as B,b as O,d as x,l as P,j as d,e as i,f as M,g as N,F as R,h as T,i as $,N as U}from"./index-C83ooPqi.js";import{g as W,C as F,M as f,s as q,a as D,n as I,B as G,b as K,D as Q,c as Y,P as _,S as J}from"./consts-jUN_VP2d.js";import{r as v,R as X}from"./react-B8DbRJ_3.js";import{j as g}from"./reactDnd-xFCjDPO2.js";import{o as H,r as k,u as C,L as b,O as Z}from"./vendor-BldfNulr.js";import{T as tt,F as et}from"./DeleteOutlineOutlined-D3jcFZXK.js";import{u as ot}from"./useWebVitals-Dhe0UvFd.js";import"./reactSelect-BIF5CjDd.js";import"./memoize-CbKs8VX_.js";import"./PluginManagerFactory-CMR7qmdK.js";import"./dayJs-DsC7cNK2.js";import"./Switch-9jTbfxAt.js";const it=t=>{const{absolute:e,children:o,classes:n,flexItem:c,light:s,orientation:p,textAlign:l,variant:r}=t;return O({root:["root",e&&"absolute",r,s&&"light",p==="vertical"&&"vertical",c&&"flexItem",o&&"withChildren",o&&p==="vertical"&&"withChildrenVertical",l==="right"&&p!=="vertical"&&"textAlignRight",l==="left"&&p!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",p==="vertical"&&"wrapperVertical"]},W,n)},rt=z("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.absolute&&e.absolute,e[o.variant],o.light&&e.light,o.orientation==="vertical"&&e.vertical,o.flexItem&&e.flexItem,o.children&&e.withChildren,o.children&&o.orientation==="vertical"&&e.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&e.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&e.textAlignLeft]}})(A(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:E(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),at=z("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.wrapper,o.orientation==="vertical"&&e.wrapperVertical]}})(A(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),y=v.forwardRef(function(e,o){const n=j({props:e,name:"MuiDivider"}),{absolute:c=!1,children:s,className:p,orientation:l="horizontal",component:r=s||l==="vertical"?"div":"hr",flexItem:u=!1,light:m=!1,role:h=r!=="hr"?"separator":void 0,textAlign:S="center",variant:a="fullWidth",...V}=n,w={...n,absolute:c,component:r,flexItem:u,light:m,orientation:l,role:h,textAlign:S,variant:a},L=it(w);return g.jsx(rt,{as:r,className:B(L.root,p),role:h,ref:o,ownerState:w,"aria-orientation":h==="separator"&&(r!=="hr"||l==="vertical")?l:void 0,...V,children:s?g.jsx(at,{className:L.wrapper,ownerState:w,children:s}):null})});y&&(y.muiSkipListHighlight=!0);const nt=x(g.jsx("path",{d:"M19.3 16.9c.4-.7.7-1.5.7-2.4 0-2.5-2-4.5-4.5-4.5S11 12 11 14.5s2 4.5 4.5 4.5c.9 0 1.7-.3 2.4-.7l3.2 3.2 1.4-1.4zm-3.8.1c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5M12 20v2C6.48 22 2 17.52 2 12S6.48 2 12 2c4.84 0 8.87 3.44 9.8 8h-2.07c-.64-2.46-2.4-4.47-4.73-5.41V5c0 1.1-.9 2-2 2h-2v2c0 .55-.45 1-1 1H8v2h2v3H9l-4.79-4.79C4.08 10.79 4 11.38 4 12c0 4.41 3.59 8 8 8"}),"TravelExplore"),st=x(g.jsx("path",{d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11"}),"Extension"),lt=x(g.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutlineOutlined"),ct=x(g.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage");function pt(t){const{c:e}=t,o=H(),n=P(),{hash:c}=k(),s="Link Copied To Clipboard";function p(){o(q(!0)),setTimeout(()=>{var l;if(navigator!=null&&navigator.clipboard&&window.isSecureContext)(l=navigator==null?void 0:navigator.clipboard)==null||l.writeText(window.location.href).then(function(){const r=n.add(c,{data:{href:window.location.href},description:"From Shared URL"},10);o(D(r)),o(M({type:I.success,message:s}))},function(r){console.log("error on copy",r)});else{let r=document.createElement("textarea");return r.value=window.location.href,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select(),new Promise((u,m)=>{const h=n.add(c,{data:window.location.href,description:"From Shared URL"},10);o(D(h)),document.execCommand("copy")?u():m(),r.remove(),o(M({type:I.success,message:s}))})}},200)}return d(f,{onClick:p,disabled:!1,style:{fontSize:"12px"},children:[" ",i(F,{fontSize:"small",className:e}),i("span",{children:"Copy Link"})]})}const dt=x(g.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),ht=t=>({color:`${t.contrast}`,overflow:"visible",fontSize:"12px",background:`${t.shadow}`,border:`1px solid ${t.accentNeutral}`,mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,borderLeft:`1px solid ${t.accentNeutral}`,borderTop:`1px solid ${t.accentNeutral}`,bgcolor:`${t.shadow}`,transform:"translateY(-50%) rotate(45deg)",zIndex:0},"& .icon":{fontSize:"16px",marginRight:"4px",color:`${t.contrast}`},"& .item":{fontSize:"12px",color:`${t.contrast}`}}),gt=t=>({display:"flex",justifyContent:"center",alignItems:"center",marginLeft:2,paddingLeft:0,cursor:"pointer",paddingRight:0,width:"30px",height:"30px",background:"none",borderRadius:"3px",color:`${t.accentNeutral}`,border:`1px solid ${t.accentNeutral}`});function ut(){const{key:t}=k(),e=C(a=>a.showDataSourceSetting),o=C(a=>a.currentUser.role),n=H(),c=N(),[s,p]=X.useState(null),l=v.useMemo(()=>!!s,[s]),[r,u]=v.useState(o||"superAdmin");v.useEffect(()=>{u(o)},[o]),v.useEffect(()=>{h()},[t]);const m=a=>{a.stopPropagation(),a.preventDefault(),p(()=>a.currentTarget)},h=a=>{a==null||a.stopPropagation(),a==null||a.preventDefault(),p(()=>{})},S=()=>{h(),n(Y(!0))};return d(R,{children:[i(G,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:i(tt,{title:"Settings",children:i("button",{onClick:m,style:gt(c),"aria-controls":l?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,children:i(dt,{style:{width:"14px",height:"14px"}})})})}),d(K,{id:"account-menu",anchorEl:s,open:l,onClose:h,onClick:m,PaperProps:{elevation:0,sx:ht(c)},TransitionComponent:et,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"top"},children:[i(pt,{c:"icon"}),i(y,{}),d(f,{onClick:S,className:"item",children:[i(Q,{className:"icon"})," General Settings"]}),i(y,{}),i(b,{to:"",children:d(f,{className:"item",children:[i(nt,{className:"icon"}),"Search"]})}),i(b,{to:"/plugins",children:d(f,{className:"item",children:[i(st,{className:"icon"}),"Plugins"]})}),i(b,{to:"/users",children:d(f,{className:"item",children:[i(lt,{className:"icon"}),"Users"]})}),e&&(r==="admin"||r==="superAdmin")&&i(b,{to:"datasources",children:d(f,{className:"item",children:[i(ct,{className:"icon"}),"Datasources"]})})]})]})}const mt=""+new URL("qryn-logo-Ch2-Iq6y.png",import.meta.url).href,ft=()=>{const o=k().pathname.split("/").map((n,c)=>n===""&&c===0?{name:"home",link:""}:{name:`/${n}`,link:n});return i(R,{children:o.map(({name:n,link:c},s)=>i("a",{href:c,className:"bread-link",children:n},s))})},vt=t=>$("background:",t.shadow,";height:30px;padding:4px;display:flex;align-items:center;border-bottom:1px solid ",t.accentNeutral,";.logo-section{padding-top:4px;margin:0;.version{color:",t.contrast,";font-size:10px;margin-left:5px;margin-top:4px;}.path{color:",t.contrast,";margin-top:4px;margin-left:20px;flex:1;font-weight:bold;text-transform:uppercase;font-size:10px;letter-spacing:1px;.bread-link{cursor:pointer;&:hover{color:",t.primary,";}}}}",""),xt=()=>{const t=N();return d("div",{className:T(vt(t)),children:[d("div",{className:"logo-section",children:[i("img",{src:mt,style:{height:"20px"},alt:"Qryn View",height:"20px",className:"logo"}),i("p",{className:"version",children:"3.5.2"}),i("p",{className:"path",children:i(ft,{})})]}),i("div",{style:{display:"flex",alignItems:"center"},children:i(_,{section:"Status Bar",localProps:t})}),i(ut,{})]})},bt=t=>$("background:",t.background,";display:flex;flex-direction:column;height:100vh;flex:1;","");function Rt(){const t=N(),e=C(o=>o.settingsDialogOpen);return ot({page:"App"}),d("div",{className:T(bt(t)),children:[i(xt,{}),i(Z,{}),i(U,{}),i(J,{open:e})]})}export{bt as MainAppStyles,Rt as default};
