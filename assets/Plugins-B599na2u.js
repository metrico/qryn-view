import{i as m,d as b,e as t,F as h,g as p,j as x,h as f}from"./index-BYW5WKQq.js";import{r as d}from"./react-DUjjZIqU.js";import{L as u}from"./PluginManagerFactory-C6-9t-ko.js";import{j as w}from"./reactDnd-D1An7ZnW.js";import{S as y}from"./Switch-CH_gvc3m.js";import{u as P}from"./vendor-CzEMWzkW.js";import{u as S}from"./useWebVitals-DadcRzy7.js";import"./reactSelect-oMYoTCNm.js";import"./memoize-2MUMzeRc.js";const N=e=>m("max-width:1440px;padding:10px;margin:10px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;overflow-x:hidden;display:flex;flex-direction:column;flex:1;height:100%;overflow:hidden;max-width:1440px;align-self:center;.plugin-section{padding:4px;font-size:14px;color:",e.contrast,";}.page-header{border-bottom:1px solid ",e.shadow,";margin-bottom:0.5em;padding:1em 0.25em;display:flex;gap:0.25em;align-items:baseline;h1{font-size:1.5em;color:",e.contrast,";}h3{font-size:1.25em;color:",e.contrastNeutral,";}}.cards-container{display:flex;flex-direction:row;flex:1;gap:1em;}",""),j=e=>m("padding:10px;margin:4px;background:",e.shadow,";border:1px solid ",e.accentNeutral,";color:",e.contrast,";display:flex;align-items:flex-start;flex-direction:column;width:350px;border-radius:3px;height:fit-content;.image{display:flex;align-items:center;}.title{font-size:16px;padding:4px;align-self:flex-start;display:flex;align-items:center;width:100%;.plugin-name{flex:1;margin-left:10px;}.switch{display:flex;align-items:center;justify-self:end;}}.text{font-size:12px;padding:4px;line-height:1.5;}.icon{font-size:60px;opacity:0.25;}",""),z=b(w.jsx("path",{d:"M10.5 4.5c.28 0 .5.22.5.5v2h6v6h2c.28 0 .5.22.5.5s-.22.5-.5.5h-2v6h-2.12c-.68-1.75-2.39-3-4.38-3s-3.7 1.25-4.38 3H4v-2.12c1.75-.68 3-2.39 3-4.38S5.76 9.8 4.01 9.12L4 7h6V5c0-.28.22-.5.5-.5m0-2C9.12 2.5 8 3.62 8 5H4c-1.1 0-1.99.9-1.99 2v3.8h.29c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-.3c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7v.3H17c1.1 0 2-.9 2-2v-4c1.38 0 2.5-1.12 2.5-2.5S20.38 11 19 11V7c0-1.1-.9-2-2-2h-4c0-1.38-1.12-2.5-2.5-2.5"}),"ExtensionOutlined"),k=e=>{const{name:n,active:s,section:a}=e,i=u(),[r,c]=d.useState(s),l=(o,v,g)=>{c(()=>!g),i.togglePlugin(o,v,!g)};return t(h,{children:t(y,{size:"small",checked:r,onChange:()=>l(a,n,r),inputProps:{"aria-label":"controlled"}})})},E=e=>{const{theme:n,name:s,description:a,section:i,active:r,visible:c}=e;return c?t(h,{children:x("div",{className:f(j(n)),children:[x("div",{className:"title",children:[t("div",{className:"image",children:t(z,{className:"icon"})}),x("div",{className:"plugin-name",children:[" ",s]}),t("div",{className:"switch",children:t(k,{active:r,name:s,section:i})})]}),t("div",{className:"text",children:a})]})}):t(h,{})},C=({components:e,section:n})=>{const s=P(l=>l.currentUser.role),a=d.useMemo(()=>e==null?void 0:e.filter(l=>l.roles.includes(s)),[s,e]),[i,r]=d.useState(a);d.useEffect(()=>{if(s&&e){let l=e==null?void 0:e.filter(o=>o.roles.includes(s));r(l)}},[s,e]);const c=p();return t("div",{style:{display:"flex",gap:".5em"},children:(i==null?void 0:i.length)>0&&(i==null?void 0:i.map((l,o)=>t(E,{theme:c,name:l.name,active:l.active,visible:l.visible,section:n,description:l.description},o)))})};function R(){const e=p();S({page:"Plugins"});const n=u(),[s]=d.useState(n.getAll()),a=d.useMemo(()=>{var i;return((i=Object.keys(s))==null?void 0:i.length)>0?Object.entries(s):[]},[s]);return x("div",{className:f(N(e)),children:[x("div",{className:"page-header",children:[t("h1",{children:"Plugins"}),t("h3",{children:"(need to reload page to activate)"})]}),t("div",{className:"cards-container",children:(a==null?void 0:a.length)>0&&(a==null?void 0:a.map(([i,r],c)=>t(C,{components:r,section:i},c)))})]})}export{R as default};
